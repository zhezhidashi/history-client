"use strict";(self["webpackChunkvue_mange"]=self["webpackChunkvue_mange"]||[]).push([[224],{64108:(t,e,a)=>{a.r(e),a.d(e,{default:()=>x});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Background OralHistory2"},[e("Search",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments}}),e("div",{staticClass:"ConditionResult"},[e("Condition",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments,FilterButton:t.FilterButton}}),e("Result",{attrs:{Arguments:t.Arguments,NowIndex:t.NowIndex,TotalPages:t.TotalPages,SearchResult:t.SearchResult},on:{ChangePages:t.ChangePages}})],1)],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Container"},[e("div",{staticClass:"ContentContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Keywords,expression:"Arguments.Keywords"}],staticClass:"SearchContentStyle SearchContent",attrs:{type:"search",placeholder:"请输入关键词"},domProps:{value:t.Arguments.Keywords},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Keywords",e.target.value)}}})]),e("div",{staticClass:"SearchLogoContainer",staticStyle:{position:"relative"},on:{click:t.ChangeArguments}},[e("img",{staticClass:"SearchLogo",attrs:{src:"SearchLogo.svg",alt:""}})])])},o=[];const r={name:"Search",props:{Arguments:{type:Object}},data:function(){return{}},methods:{ChangeArguments:function(){this.$emit("ChangeArguments",this.Arguments)}}},c=r;var l=a(1001),u=(0,l.Z)(c,i,o,!1,null,"7af33528",null);const m=u.exports;var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Container"},[e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("姓名")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Name,expression:"Arguments.Name"}],staticClass:"AdvancedSearchInput InputName",attrs:{placeholder:""},domProps:{value:t.Arguments.Name},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Name",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("主题")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Theme,expression:"Arguments.Theme"}],staticClass:"AdvancedSearchInput InputTheme",attrs:{placeholder:""},domProps:{value:t.Arguments.Theme},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Theme",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("专业")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Major,expression:"Arguments.Major"}],staticClass:"AdvancedSearchInput InputMajor",attrs:{placeholder:""},domProps:{value:t.Arguments.Major},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Major",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("访谈时间")]),e("div",{staticClass:"SearchTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeFrom,expression:"Arguments.TimeFrom"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeFrom},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeFrom",e.target.value)}}}),e("div",{staticClass:"SearchText"},[t._v("至")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeTo,expression:"Arguments.TimeTo"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeTo},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeTo",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("访谈地点")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Location,expression:"Arguments.Location"}],staticClass:"AdvancedSearchInput InputLocation",attrs:{placeholder:""},domProps:{value:t.Arguments.Location},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Location",e.target.value)}}})])]),e("div",{staticClass:"RedButton FilterButton",on:{click:t.FilterButton}},[t._v("筛选")])])},g=[];const h={name:"Condition",props:{Arguments:{type:Object}},data:function(){return{}},methods:{FilterButton:function(){this.$emit("FilterButton")}}},v=h;var p=(0,l.Z)(v,d,g,!1,null,"cad55d10",null);const C=p.exports;var T=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"Container"},[t._l(t.SearchResult,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"ItemContainer"},[e("div",{staticClass:"ImageItem"},[e("div",{staticClass:"ImageHover"},[e("div",{staticClass:"RedButton SeeVideo",on:{click:function(e){return t.GoToPage("OralHistory4",a)}}},[t._v(" 查看详情 ")])]),e("div",{staticClass:"BackgroundImage ImageContainer",style:"background-image:url(".concat(a.Image,")")})]),e("div",{staticClass:"TextContainer"},[e("div",{staticClass:"TextTitle",on:{click:function(e){return t.GoToPage("OralHistory4",a)}}},[t._v(t._s(a.Title))]),e("div",{staticClass:"TextTime"},[t._v(t._s(a.TimeFrom)+" ~ "+t._s(a.TimeTo))]),e("div",{staticClass:"TextLocation"},[t._v(t._s(a.Location))])])])])})),e("div",{staticClass:"ShiftContainer"},[e("img",{staticClass:"ShiftLeft",attrs:{src:"ShiftLeft.svg",alt:""},on:{click:function(e){return t.PageShift(-1)}}}),e("div",{staticClass:"ShiftPages"},[t._v(" "+t._s(t.NowIndex)+"   /   "+t._s(t.TotalPages)+" ")]),e("img",{staticClass:"ShiftRight",attrs:{src:"ShiftRight.svg",alt:""},on:{click:function(e){return t.PageShift(1)}}})])],2)])},f=[],A=(a(9653),a(74916),a(23123),a(95114));const _={name:"Result",props:{Arguments:{type:Object},NowIndex:{type:Number},TotalPages:{type:Number},SearchResult:{type:Array}},data:function(){return{}},methods:{PageShift:function(t){this.NowIndex+t>0&&this.NowIndex+t<=this.TotalPages?this.$emit("ChangePages",t):this.$message({type:"warning",message:"已经是第一页或最后一页"})},GoToPage:function(t,e){var a=this,s=e.Path.split("/"),n={TabIndex:0,ContentStatus:0,Path1:s[0]+"/"+s[1]+"/"+s[2],Path2:s[0]+"/"+s[1]+"/"+s[2]+"/"+s[3],Path3:s[0]+"/"+s[1]+"/"+s[2]+"/"+s[3]+"/"+s[4],PeopleName:"",TabName:"",LetterName:"",LetterTemplateID:e.TemplateID};(0,A.B0)(a,n.Path1,(function(e){n.PeopleName=e,(0,A.B0)(a,n.Path2,(function(e){n.TabName=e,(0,A.CK)(a,(function(e){var s={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:n.Path1,deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,A.Md)("/data/list",s,a,(function(s){for(var i=s.data.list,o=0;o<i.length;o++){var r=i[o];for(var c in r.content)(0,A.VX)(e[c],"标题")&&r.content[c]===n.TabName&&(n.TabIndex=o/6,n.ContentStatus=o)}(0,A.B0)(a,n.Path3,(function(e){n.LetterName=e,console.log("&&&",n),a.$router.push({name:t,query:n})}))}))}))}))}))}}},S=_;var I=(0,l.Z)(S,T,f,!1,null,"3b6cb42c",null);const y=I.exports,w={name:"OralHistory2",components:{Search:m,Condition:C,Result:y},data:function(){return{Arguments:{Keywords:"",Name:"",Theme:"",Major:"",TimeFrom:"",TimeTo:"",Location:""},NowIndex:1,TotalPages:1,SearchResult:[],ResourceFieldList:["口述史音频"]}},methods:{ChangeArguments:function(t){this.Arguments=t,this.GetList()},ChangePages:function(t){this.NowIndex+=t,this.GetList()},FilterButton:function(){this.GetList()},GetList:function(){var t=this;t.SearchResult=[];var e={},a=[];(0,A.OE)(t,t.Arguments,(function(s){e=s,(0,A.xU)(t.ResourceFieldList,(function(s){a=s,console.log("***",t.Arguments,t.ResourceFieldList,e,a),(0,A.CK)(t,(function(s){var n={location_id:99999999,page_index:t.NowIndex,page_size:5,sort_by:"-show_time",path:"root/interview",deep_range:0,filter_rule:e,order_rule:{method:"show_time",order:"+"},template_id_list:a};(0,A.Md)("/data/list",n,t,(function(e){var a=e.data.list;t.TotalPages=e.data.total_page;for(var n=0;n<a.length;n++){var i=a[n],o={Path:i.path,TemplateID:i.template_id,Title:"",TimeFrom:"",TimeTo:"",Location:"",Image:""};for(var r in i.content)(0,A.VX)(s[r],"标题")?o.Title=i.content[r]:(0,A.VX)(s[r],"起始时间")?o.TimeFrom=i.content[r]:(0,A.VX)(s[r],"结束时间")?o.TimeTo=i.content[r]:(0,A.VX)(s[r],"地点")?o.Location=i.content[r]:(0,A.VX)(s[r],"图片")&&(o.Image=i.content[r]);console.log(o),t.SearchResult.push(o)}}))}))}))}))}},mounted:function(){this.Arguments.Keywords=this.$route.query.Keywords,this.GetList()}},P=w;var N=(0,l.Z)(P,s,n,!1,null,"ce1f8930",null);const x=N.exports}}]);
//# sourceMappingURL=224.daf994c0.js.map