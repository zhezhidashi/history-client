"use strict";(self["webpackChunkvue_mange"]=self["webpackChunkvue_mange"]||[]).push([[260],{45345:(t,e,a)=>{a.r(e),a.d(e,{default:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Background OralHistory4Container"},[e("TabChoices",{attrs:{Tabs:t.Tabs,TabTotalPages:t.TabTotalPages,TabIndex:t.TabIndex,ContentStatus:t.ContentStatus},on:{ChangeTabIndex:t.ChangeTabIndex,ChangeContentStatus:t.ChangeContentStatus}}),e("div",{staticClass:"ImageContentContainer"},[e("Images",{attrs:{Media:t.Media,WebPath:t.WebPath,Description:t.Description,Paths:t.Paths,TabIndex:t.TabIndex,ContentStatus:t.ContentStatus,ContentInfo:t.ContentInfo}})],1)],1)},s=[],o=(a(91058),function(){var t=this,e=t._self._c;return e("div",{staticClass:"TabChoicesContainer"},[e("div",{staticClass:"TabBlock"},[e("div",{staticClass:"HoverTab TabLeft",on:{click:function(e){return t.ChangeTabIndex(-1)}}},[e("img",{attrs:{src:"LeftTriangle.svg",alt:""}})]),e("div",{staticClass:"ItemBlock"},t._l(t.Tabs[t.TabIndex],(function(a,n){return e("div",{key:6*t.TabIndex+n},[e("div",{staticClass:"ItemContainer HoverTab",style:6*t.TabIndex+n===t.ContentStatus?"background: white; border-bottom: 0.2vw solid #9B0000; border-top: 0.2vw solid #ffffff;":"",on:{click:function(e){return t.ChangeContentStatus(6*t.TabIndex+n)}}},[t._v(" "+t._s(a.Title)+" ")])])})),0),e("div",{staticClass:"HoverTab TabRight",on:{click:function(e){return t.ChangeTabIndex(1)}}},[e("img",{attrs:{src:"RightTriangle.svg",alt:""}})])])])}),i=[];a(9653);const r={name:"TabChoices",props:{Tabs:{type:Array,default:function(){return[]}},TabIndex:{type:Number,default:0},ContentStatus:{type:Number,default:0}},data:function(){return{}},methods:{ChangeTabIndex:function(t){this.TabIndex+t>=0&&this.TabIndex+t<this.Tabs.length&&this.$emit("ChangeTabIndex",this.TabIndex+t)},ChangeContentStatus:function(t){this.$emit("ChangeContentStatus",t)}}},u=r;var h=a(1001),d=(0,h.Z)(u,o,i,!1,null,"fb310b5e",null);const l=d.exports;var c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ImagesContainer"},[e("div",{staticClass:"WebPath"},[e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("OralHistory1",{})}}},[t._v(" "+t._s(t.WebPath[0])+" ")]),t._v("  >  "),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("OralHistory2",{})}}},[t._v(" "+t._s(t.WebPath[1])+" ")]),t._v("  >  "),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("OralHistory3",{Path:t.Paths[0],TabIndex:t.TabIndex,PeopleName:t.WebPath[1],ContentStatus:t.ContentStatus})}}},[t._v(" "+t._s(t.WebPath[2])+" ")]),t._v("  >  "),e("div",[t._v(t._s(t.WebPath[3]))])]),e("div",{staticClass:"MediaContainer",style:"height: ".concat(0===t.Media.Type?"10vw":"40vw")},[0===t.Media.Type?e("audio",{attrs:{width:"100%",controls:"true",controlslist:"nodownload",autoplay:"autoplay"}},[e("source",{attrs:{src:t.Media.Url,type:"audio/mp3"}}),e("source",{attrs:{src:t.Media.Url,type:"audio/mpeg"}}),t._v(" Your browser does not support the audio element. ")]):t._e(),1===t.Media.Type?e("video",{attrs:{width:"100%",controls:"true",controlslist:"nodownload",autoplay:"autoplay"}},[e("source",{attrs:{src:t.Media.Url,type:"video/mp4"}}),t._v(" Your ")]):t._e()]),e("div",{staticClass:"DescriptionContainer"},[t._v(t._s(t.Description))]),t._l(t.ContentInfo,(function(a,n){return e("div",{key:n},[e("div",{staticClass:"Item"},[e("div",{staticClass:"ItemName"},[t._v(t._s(a.NameZH)+"：")]),e("div",{staticClass:"ItemValue"},[t._v(t._s(a.Value))])])])}))],2)},b=[];const p={name:"Images",props:["Media","WebPath","Description","Paths","TabIndex","ContentStatus","ContentInfo"],data:function(){return{}},methods:{GoToPage:function(t,e){this.$router.push({name:t,query:e})}}},T=p;var C=(0,h.Z)(T,c,b,!1,null,"160d81c2",null);const v=C.exports;var f=a(95114);const I={name:"OralHistory4",components:{TabChoices:l,Images:v},data:function(){return{Paths:[],ArchiveTemplateID:"",Tabs:[],TabIndex:0,TabTotalPages:0,ContentStatus:0,WebPath:["档案/手稿"],Media:{Url:"",Type:0},Description:"",InfoMap:{},ContentInfo:[]}},methods:{ChangeTabIndex:function(t){this.TabIndex=t},ChangeContentStatus:function(t){this.ContentStatus=t,this.$router.push({name:"OralHistory3",query:{Path:this.Paths[0],TabIndex:this.TabIndex,ContentStatus:this.ContentStatus,PeopleName:this.WebPath[1]}})},GetTabs:function(){var t=this;(0,f.CK)(t,(function(e){var a={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:t.Paths[0],deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,f.Md)("/data/list",a,t,(function(a){for(var n=a.data.list,s=0;s<n.length;s++){var o=n[s],i={Path:o.path,Title:"",TemplateID:a.data.template_id};for(var r in o.content)(0,f.VX)(e[r],"标题")&&(i.Title=o.content[r]);t.TabTotalPages=(0,f.Ic)(i,t.Tabs,t.TabTotalPages,6)}}))}))},GetOtherInfo:function(){var t=this;t.$route.query.LetterTemplateID;(0,f.CK)(t,(function(e){var a={path:t.Paths[2]};(0,f.Md)("/data/node",a,t,(function(a){var n=a.data;for(var s in n.content)(0,f.VX)(e[s],"简介")||(0,f.VX)(e[s],"描述")?t.Description=n.content[s]:(0,f.VX)(e[s],"图片")||(0,f.VX)(e[s],"节点名称")||(0,f.VX)(e[s],"标题")||(0,f.VX)(e[s],"起始时间")||(0,f.VX)(e[s],"结束时间")||(0,f.VX)(e[s],"视频")||(0,f.VX)(e[s],"音频")||""==n.content[s]||1e9==n.content[s]||t.ContentInfo.push({NameZH:e[s],Value:n.content[s]})}))})),(0,f.CK)(t,(function(e){var a={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:t.Paths[2],deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,f.Md)("/data/list",a,t,(function(a){for(var n=a.data.list,s=0;s<n.length;s++){var o=n[s];for(var i in o.content)(0,f.VX)(e[i],"图片")&&t.ImageList.push({ImageUrl:o.content[i],Index:s,ImagePath:o.path})}}))}))}},mounted:function(){this.TabIndex=parseInt(this.$route.query.TabIndex),this.ContentStatus=parseInt(this.$route.query.ContentStatus),this.Paths.push(this.$route.query.Path1),this.Paths.push(this.$route.query.Path2),this.Paths.push(this.$route.query.Path3),this.WebPath.push(this.$route.query.PeopleName),this.WebPath.push(this.$route.query.TabName),this.WebPath.push(this.$route.query.LetterName),this.Media.Url=(0,f.jj)(this.$route.query.MediaPath),this.Media.Type=parseInt(this.$route.query.MediaType),console.log("***",this.Media);var t=this;t.GetTabs(),t.GetOtherInfo()}},m=I;var _=(0,h.Z)(m,n,s,!1,null,"0de815a6",null);const g=_.exports}}]);
//# sourceMappingURL=260.15da1328.js.map