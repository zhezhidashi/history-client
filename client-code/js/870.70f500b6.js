"use strict";(self["webpackChunkvue_mange"]=self["webpackChunkvue_mange"]||[]).push([[870],{35500:(t,e,a)=>{a.r(e),a.d(e,{default:()=>P});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Background AntiqueWorks21"},[e("Search",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments}}),e("div",{staticClass:"ConditionResult"},[e("Condition",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments,FilterButton:t.FilterButton}}),e("Result",{attrs:{Arguments:t.Arguments,NowIndex:t.NowIndex,TotalPages:t.TotalPages,SearchResult:t.SearchResult,Description:t.Description},on:{ChangePages:t.ChangePages}})],1)],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SearchContainer"},[e("div",{staticClass:"Choice1Container"},[t._v("古籍")]),e("div",{staticClass:"Choice2Container",on:{click:function(e){return t.GoToPage("AntiqueWorks22")}}},[t._v("特藏")]),e("div",{staticClass:"ContentContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Keywords,expression:"Arguments.Keywords"}],staticClass:"SearchContentStyle SearchContent",attrs:{type:"search",placeholder:"请输入关键词"},domProps:{value:t.Arguments.Keywords},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Keywords",e.target.value)}}})]),e("div",{staticClass:"SearchLogoContainer",staticStyle:{position:"relative"},on:{click:t.ChangeArguments}},[e("img",{staticClass:"SearchLogo",attrs:{src:"SearchLogo.svg",alt:""}})])])},r=[];const o={name:"Search",props:{Arguments:{type:Object}},data:function(){return{}},methods:{ChangeArguments:function(){this.$emit("ChangeArguments",this.Arguments)},GoToPage:function(t){this.$router.push({name:t})}}},u=o;var c=a(1001),l=(0,c.Z)(u,i,r,!1,null,"7b15fe3d",null);const m=l.exports;var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Container"},[e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("标题")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Title,expression:"Arguments.Title"}],staticClass:"AdvancedSearchInput InputTitle",attrs:{placeholder:""},domProps:{value:t.Arguments.Title},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Title",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("作者")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Author,expression:"Arguments.Author"}],staticClass:"AdvancedSearchInput InputAuthor",attrs:{placeholder:""},domProps:{value:t.Arguments.Author},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Author",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("主题词")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Subject,expression:"Arguments.Subject"}],staticClass:"AdvancedSearchInput InputSubject",attrs:{placeholder:""},domProps:{value:t.Arguments.Subject},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Subject",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("来源")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Source,expression:"Arguments.Source"}],staticClass:"AdvancedSearchInput InputSource",attrs:{placeholder:""},domProps:{value:t.Arguments.Source},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Source",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("出版日期")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeFrom,expression:"Arguments.TimeFrom"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeFrom},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeFrom",e.target.value)}}}),e("div",{staticClass:"SearchText"},[t._v("至")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeTo,expression:"Arguments.TimeTo"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeTo},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeTo",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("分类号")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TypeNumber,expression:"Arguments.TypeNumber"}],staticClass:"AdvancedSearchInput InputTypeNumber",attrs:{placeholder:""},domProps:{value:t.Arguments.TypeNumber},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TypeNumber",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock"},[e("div",{staticClass:"SearchType"},[t._v("语种")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Language,expression:"Arguments.Language"}],staticClass:"AdvancedSearchInput InputLanguage",attrs:{placeholder:""},domProps:{value:t.Arguments.Language},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Language",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("印章")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Seal,expression:"Arguments.Seal"}],staticClass:"AdvancedSearchInput InputSeal",attrs:{placeholder:""},domProps:{value:t.Arguments.Seal},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Seal",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock"},[e("div",{staticClass:"SearchType"},[t._v("版本类别")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.VersionType,expression:"Arguments.VersionType"}],staticClass:"AdvancedSearchInput InputVersionType",attrs:{placeholder:""},domProps:{value:t.Arguments.VersionType},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"VersionType",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock"},[e("div",{staticClass:"SearchType"},[t._v("外部形态")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.ExternalForm,expression:"Arguments.ExternalForm"}],staticClass:"AdvancedSearchInput InputExternalForm",attrs:{placeholder:""},domProps:{value:t.Arguments.ExternalForm},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"ExternalForm",e.target.value)}}})])]),e("div",{staticClass:"RedButton FilterButton",on:{click:t.FilterButton}},[t._v("筛选")])])},d=[];const v={name:"Condition",props:{Arguments:{type:Object}},data:function(){return{}},methods:{FilterButton:function(){this.$emit("FilterButton")}}},p=v;var h=(0,c.Z)(p,g,d,!1,null,"ffaedb84",null);const C=h.exports;var A=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"Container"},[t._l(t.SearchResult,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"ItemContainer"},[e("div",{staticClass:"ImageItem"},[e("div",{staticClass:"ImageHover"},[e("div",{staticClass:"RedButton SeeImage",on:{click:function(e){return t.GoToPage("AntiqueWorks31",a)}}},[t._v(" 查看大图 ")])]),e("div",{staticClass:"BackgroundImage ImageContainer",style:"background-image:url(".concat(a.Image,")")})]),e("div",{staticClass:"TextContainer"},[e("div",{staticClass:"TextTitle",on:{click:function(e){return t.GoToPage("AntiqueWorks31",a)}}},[t._v(" "+t._s(a.Title)+" ")]),e("div",{staticClass:"TextDescription"},t._l(t.Description,(function(s,n){return e("div",{key:n},[e("div",{staticClass:"NameContainer"},[e("div",{staticClass:"TextNameZH"},[t._v(" "+t._s(s.NameZH)+"： ")]),e("div",{staticClass:"TextNameEN"},[t._v(" "+t._s(a[s.NameEN])+" ")])])])})),0)])])])})),e("div",{staticClass:"ShiftContainer"},[e("img",{staticClass:"ShiftLeft",attrs:{src:"ShiftLeft.svg",alt:""},on:{click:function(e){return t.PageShift(-1)}}}),e("div",{staticClass:"ShiftPages"},[t._v(" "+t._s(t.NowIndex)+"   /   "+t._s(t.TotalPages)+" ")]),e("img",{staticClass:"ShiftRight",attrs:{src:"ShiftRight.svg",alt:""},on:{click:function(e){return t.PageShift(1)}}})])],2)])},S=[];a(9653);const T={name:"Result",props:{Arguments:{type:Object},NowIndex:{type:Number},TotalPages:{type:Number},SearchResult:{type:Array},Description:{type:Array}},data:function(){return{}},methods:{PageShift:function(t){this.NowIndex+t>0&&this.NowIndex+t<=this.TotalPages?this.$emit("ChangePages",t):this.$message({type:"warning",message:"已经是第一页或最后一页"})},GoToPage:function(t,e){this.$router.push({name:t,query:{Path:e.Path,TemplateID:e.TemplateID}})}}},f=T;var y=(0,c.Z)(f,A,S,!1,null,"3f8c26df",null);const N=y.exports;var I=a(95114);const _={name:"AntiqueWorks21",components:{Search:m,Condition:C,Result:N},data:function(){return{Arguments:{Keywords:"",Title:"",Author:"",Subject:"",Source:"",TimeFrom:"",TimeTo:"",TypeNumber:"",Language:"",Seal:"",VersionType:"",ExternalForm:""},NowIndex:1,TotalPages:1,SearchResult:[],Description:[{NameZH:"作者",NameEN:"People"},{NameZH:"版本类别",NameEN:"VersionType"},{NameZH:"外观形态",NameEN:"ExternalForm"},{NameZH:"主题词",NameEN:"Subject"},{NameZH:"古籍语种",NameEN:"Language"},{NameZH:"印章",NameEN:"Seal"},{NameZH:"分类号",NameEN:"TypeNumber"}],ResourceFieldList:["列表：古籍"]}},methods:{ChangeArguments:function(t){this.Arguments=t,this.GetList()},ChangePages:function(t){this.NowIndex+=t,this.GetList()},FilterButton:function(){this.GetList()},GetList:function(){var t=this;t.SearchResult=[];var e={},a=[];(0,I.OE)(t,t.Arguments,(function(s){e=s,(0,I.xU)(t.ResourceFieldList,(function(s){a=s,console.log("***",t.Arguments,t.ResourceFieldList,e,a),(0,I.CK)(t,(function(s){var n={location_id:99999999,page_index:t.NowIndex,page_size:5,sort_by:"-show_time",path:"root/ancient_book",deep_range:0,filter_rule:e,order_rule:{method:"show_time",order:"+"},template_id_list:a};(0,I.Md)("/data/list",n,t,(function(e){var a=e.data.list;t.TotalPages=e.data.total_page;for(var n=0;n<a.length;n++){var i=a[n],r={Title:"",People:"",VersionType:"",ExternalForm:"",Subject:"",Language:"",Seal:"",TypeNumber:"",Image:"",Path:i.path,TemplateID:i.template_id};for(var o in i.content)(0,I.VX)(s[o],"标题")&&(r.Title=i.content[o]),(0,I.VX)(s[o],"作者")&&(r.People=i.content[o]),(0,I.VX)(s[o],"版本类别")&&(r.VersionType=i.content[o]),(0,I.VX)(s[o],"外观形态")&&(r.ExternalForm=i.content[o]),(0,I.VX)(s[o],"主题词")&&(r.Subject=i.content[o]),(0,I.VX)(s[o],"语种")&&(r.Language=i.content[o]),(0,I.VX)(s[o],"印章")&&(r.Seal=i.content[o]),(0,I.VX)(s[o],"分类号")&&(r.TypeNumber=i.content[o]),(0,I.VX)(s[o],"图片")&&(r.Image=i.content[o]);t.SearchResult.push(r)}}))}))}))}))}},mounted:function(){this.Arguments.Keywords=this.$route.query.Keywords,this.GetList()}},x=_;var w=(0,c.Z)(x,s,n,!1,null,"5bddd3da",null);const P=w.exports}}]);
//# sourceMappingURL=870.70f500b6.js.map