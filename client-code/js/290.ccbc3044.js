"use strict";(self["webpackChunkvue_mange"]=self["webpackChunkvue_mange"]||[]).push([[290],{31118:(t,e,a)=>{a.r(e),a.d(e,{default:()=>L});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Background PkuPeople4Container"},[e("TabChoices",{attrs:{Tabs:t.Tabs,TabTotalPages:t.TabTotalPages,TabIndex:t.TabIndex,ContentStatus:t.ContentStatus},on:{ChangeTabIndex:t.ChangeTabIndex,ChangeContentStatus:t.ChangeContentStatus}}),e("div",{staticClass:"ImageContentContainer"},[e("Images",{attrs:{ImageList:t.ImageList,WebPath:t.WebPath,Description:t.Description,Paths:t.Paths,TabIndex:t.TabIndex,ContentStatus:t.ContentStatus}}),e("Content",{attrs:{ContentInfo:t.ContentInfo}})],1)],1)},s=[],i=(a(91058),function(){var t=this,e=t._self._c;return e("div",{staticClass:"TabChoicesContainer"},[e("div",{staticClass:"TabBlock"},[e("div",{staticClass:"HoverTab TabLeft",on:{click:function(e){return t.ChangeTabIndex(-1)}}},[e("img",{attrs:{src:"LeftTriangle.svg",alt:""}})]),e("div",{staticClass:"ItemBlock"},t._l(t.Tabs[t.TabIndex],(function(a,n){return e("div",{key:6*t.TabIndex+n},[e("div",{staticClass:"ItemContainer HoverTab",style:6*t.TabIndex+n===t.ContentStatus?"background: white; border-bottom: 0.2vw solid #9B0000; border-top: 0.2vw solid #ffffff;":"",on:{click:function(e){return t.ChangeContentStatus(6*t.TabIndex+n)}}},[t._v(" "+t._s(a.Title)+" ")])])})),0),e("div",{staticClass:"HoverTab TabRight",on:{click:function(e){return t.ChangeTabIndex(1)}}},[e("img",{attrs:{src:"RightTriangle.svg",alt:""}})])])])}),o=[];a(9653);const r={name:"TabChoices",props:{Tabs:{type:Array,default:function(){return[]}},TabIndex:{type:Number,default:0},ContentStatus:{type:Number,default:0}},data:function(){return{}},methods:{ChangeTabIndex:function(t){this.TabIndex+t>=0&&this.TabIndex+t<this.Tabs.length&&this.$emit("ChangeTabIndex",this.TabIndex+t)},ChangeContentStatus:function(t){this.$emit("ChangeContentStatus",t)}}},u=r;var h=a(1001),c=(0,h.Z)(u,i,o,!1,null,"2e565417",null);const l=c.exports;var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ImagesContainer"},[e("div",{staticClass:"WebPath"},[e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("PkuPeople1",{})}}},[t._v(" "+t._s(t.WebPath[0])+" ")]),t._v("  >  "),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("PkuPeople2",{})}}},[t._v(" "+t._s(t.WebPath[1])+" ")]),t._v("  >  "),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GoToPage("PkuPeople3",{Path:t.Paths[0],TabIndex:t.TabIndex,PeopleName:t.WebPath[1],ContentStatus:t.ContentStatus})}}},[t._v(" "+t._s(t.WebPath[2])+" ")]),t._v("  >  "),e("div",[t._v(t._s(t.WebPath[3]))])]),e("div",{staticClass:"ImageListAndMainImageContainer"},[e("div",{staticClass:"ImageListContainer"},[e("vue-scroll",{staticClass:"ImageListContainer",attrs:{ops:t.ops}},t._l(t.ImageList,(function(a){return e("div",{key:a.ImageID},[e("div",{class:a.Index===t.MainImageIndex?"ClickImage":"ImageListImgContainer"},[e("div",{staticClass:"ImageListImg",style:"background-image:url(".concat(a.ImageUrl,")"),on:{click:function(e){return t.ImageListBtn(a)}}})])])})),0)],1),e("div",{staticStyle:{position:"relative",width:"65vw",height:"35vw"}},[e("img",{attrs:{id:"PageShiftLeft",src:"ShiftLeft.svg"},on:{click:function(e){return t.ImageShift(-1)}}}),e("img",{attrs:{id:"PageShiftRight",src:"ShiftRight.svg"},on:{click:function(e){return t.ImageShift(1)}}}),e("viewer",{staticClass:"MainImageContainer",attrs:{images:t.ImageList}},t._l(t.ImageList,(function(a){return e("img",{directives:[{name:"show",rawName:"v-show",value:a.Index===t.MainImageIndex,expression:"item.Index === MainImageIndex"}],key:a.ImagePath,staticClass:"MainImage",attrs:{src:a.ImageUrl}})})),0)],1)]),e("div",{staticClass:"DescriptionContainer"},[t._v(t._s(t.Description))])])},I=[];const g={name:"Images",props:["ImageList","WebPath","Description","Paths","TabIndex","ContentStatus"],data:function(){return{MainImageIndex:0,ops:{vuescroll:{},scrollPanel:{},rail:{keepShow:!0},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#9F9E9E","overflow-x":"hidden"}}}},methods:{GoToPage:function(t,e){this.$router.push({name:t,query:e})},ImageListBtn:function(t){this.MainImageIndex=t.Index},ImageShift:function(t){this.MainImageIndex=(this.MainImageIndex+t+this.ImageList.length)%this.ImageList.length}}},m=g;var C=(0,h.Z)(m,d,I,!1,null,"7e8d5311",null);const v=C.exports;var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ContentContainer"},t._l(t.ContentInfo,(function(a,n){return e("div",{key:n},[e("div",{staticClass:"Item"},[e("div",{staticClass:"ItemName"},[t._v(t._s(a.NameZH)+"：")]),e("div",{staticClass:"ItemValue"},[t._v(t._s(a.Value))])])])})),0)},b=[];const p={name:"Content",props:["ContentInfo","Title"],data:function(){return{}},methods:{}},T=p;var P=(0,h.Z)(T,f,b,!1,null,"18802550",null);const _=P.exports;var x=a(95114);const S={name:"PkuPeople4",components:{TabChoices:l,Images:v,Content:_},data:function(){return{Paths:[],ArchiveTemplateID:"",Tabs:[],TabIndex:0,TabTotalPages:0,ContentStatus:0,WebPath:["档案/手稿"],ImageList:[],Description:"",InfoMap:{},ContentInfo:[]}},methods:{ChangeTabIndex:function(t){this.TabIndex=t},ChangeContentStatus:function(t){this.ContentStatus=t,this.$router.push({name:"PkuPeople3",query:{Path:this.Paths[0],TabIndex:this.TabIndex,ContentStatus:this.ContentStatus,PeopleName:this.WebPath[1]}})},GetTabs:function(){var t=this;(0,x.CK)(t,(function(e){var a={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:t.Paths[0],deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,x.Md)("/data/list",a,t,(function(a){for(var n=a.data.list,s=0;s<n.length;s++){var i=n[s],o={Path:i.path,Title:"",TemplateID:a.data.template_id};for(var r in i.content)(0,x.VX)(e[r],"标题")&&(o.Title=i.content[r]);t.TabTotalPages=(0,x.Ic)(o,t.Tabs,t.TabTotalPages,6)}}))}))},GetOtherInfo:function(){var t=this;t.$route.query.LetterTemplateID;(0,x.CK)(t,(function(e){var a={path:t.Paths[2]};(0,x.Md)("/data/node",a,t,(function(a){var n=a.data;for(var s in n.content)(0,x.VX)(e[s],"简介")||(0,x.VX)(e[s],"描述")?t.Description=n.content[s]:(0,x.VX)(e[s],"图片")||(0,x.VX)(e[s],"节点名称")||(0,x.VX)(e[s],"标题")||(0,x.VX)(e[s],"起始时间")||(0,x.VX)(e[s],"结束时间")||""==n.content[s]||1e9==n.content[s]||t.ContentInfo.push({NameZH:e[s],Value:n.content[s]})}))})),(0,x.CK)(t,(function(e){var a={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:t.Paths[2],deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,x.Md)("/data/list",a,t,(function(a){for(var n=a.data.list,s=0;s<n.length;s++){var i=n[s];for(var o in i.content)(0,x.VX)(e[o],"图片")&&t.ImageList.push({ImageUrl:i.content[o],Index:s,ImagePath:i.path})}}))}))}},mounted:function(){this.TabIndex=parseInt(this.$route.query.TabIndex),this.ContentStatus=parseInt(this.$route.query.ContentStatus),this.Paths.push(this.$route.query.Path1),this.Paths.push(this.$route.query.Path2),this.Paths.push(this.$route.query.Path3),this.WebPath.push(this.$route.query.PeopleName),this.WebPath.push(this.$route.query.TabName),this.WebPath.push(this.$route.query.LetterName);var t=this;t.GetTabs(),t.GetOtherInfo()}},k=S;var y=(0,h.Z)(k,n,s,!1,null,"0087e677",null);const L=y.exports}}]);
//# sourceMappingURL=290.ccbc3044.js.map