"use strict";(self["webpackChunkvue_mange"]=self["webpackChunkvue_mange"]||[]).push([[630],{30313:(t,e,s)=>{s.r(e),s.d(e,{default:()=>L});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Background PkuPeople2"},[e("Search",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments}}),e("div",{staticClass:"ConditionResult"},[e("Condition",{attrs:{Arguments:t.Arguments},on:{ChangeArguments:t.ChangeArguments,FilterButton:t.FilterButton}}),e("Result",{attrs:{Arguments:t.Arguments,NowIndex:t.NowIndex,TotalPages:t.TotalPages,SearchResult:t.SearchResult},on:{ChangePages:t.ChangePages}})],1)],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Container"},[e("div",{staticClass:"ContentContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Keywords,expression:"Arguments.Keywords"}],staticClass:"SearchContentStyle SearchContent",attrs:{type:"search",placeholder:"请输入关键词"},domProps:{value:t.Arguments.Keywords},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Keywords",e.target.value)}}})]),e("div",{staticClass:"SearchLogoContainer",staticStyle:{position:"relative"},on:{click:t.ChangeArguments}},[e("img",{staticClass:"SearchLogo",attrs:{src:"SearchLogo.svg",alt:""}})])])},r=[];const o={name:"Search",props:{Arguments:{type:Object}},data:function(){return{}},methods:{ChangeArguments:function(){this.$emit("ChangeArguments",this.Arguments)}}},l=o;var c=s(1001),u=(0,c.Z)(l,i,r,!1,null,"e76d4b28",null);const m=u.exports;var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Container"},[e("div",{staticClass:"SearchBlock"},[e("div",{staticClass:"SearchType"},[t._v("资源类型")]),t._l(t.ResourceType,(function(s,a){return e("div",{key:a,staticClass:"el-checkbox-group"},[e("el-checkbox",{staticClass:"SelectItem",attrs:{label:s.Title},model:{value:t.ResourceFieldList,callback:function(e){t.ResourceFieldList=e},expression:"ResourceFieldList"}})],1)}))],2),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("标题")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Title,expression:"Arguments.Title"}],staticClass:"AdvancedSearchInput InputTitle",attrs:{placeholder:""},domProps:{value:t.Arguments.Title},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Title",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("主题")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Theme,expression:"Arguments.Theme"}],staticClass:"AdvancedSearchInput InputTheme",attrs:{placeholder:""},domProps:{value:t.Arguments.Theme},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Theme",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("时间")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeFrom,expression:"Arguments.TimeFrom"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeFrom},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeFrom",e.target.value)}}}),e("div",{staticClass:"SearchText"},[t._v("至")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.TimeTo,expression:"Arguments.TimeTo"}],staticClass:"AdvancedSearchInput InputTime",attrs:{placeholder:""},domProps:{value:t.Arguments.TimeTo},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"TimeTo",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("地点")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Location,expression:"Arguments.Location"}],staticClass:"AdvancedSearchInput InputLocation",attrs:{placeholder:""},domProps:{value:t.Arguments.Location},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Location",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("语种")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Language,expression:"Arguments.Language"}],staticClass:"AdvancedSearchInput InputLanguage",attrs:{placeholder:""},domProps:{value:t.Arguments.Language},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Language",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("人物")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.People,expression:"Arguments.People"}],staticClass:"AdvancedSearchInput InputPeople",attrs:{placeholder:""},domProps:{value:t.Arguments.People},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"People",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("事件")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Event,expression:"Arguments.Event"}],staticClass:"AdvancedSearchInput InputEvent",attrs:{placeholder:""},domProps:{value:t.Arguments.Event},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Event",e.target.value)}}})])]),e("div",{staticClass:"SearchBlock",staticStyle:{height:"7vw"}},[e("div",{staticClass:"SearchType"},[t._v("来源")]),e("div",{staticClass:"InputContainer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Arguments.Source,expression:"Arguments.Source"}],staticClass:"AdvancedSearchInput InputSource",attrs:{placeholder:""},domProps:{value:t.Arguments.Source},on:{input:function(e){e.target.composing||t.$set(t.Arguments,"Source",e.target.value)}}})])]),e("div",{staticClass:"RedButton FilterButton",on:{click:t.FilterButton}},[t._v("筛选")])])},g=[];const v={name:"Condition",props:{Arguments:{type:Object}},data:function(){return{ResourceType:[{Title:"信件信函"},{Title:"书稿"},{Title:"手稿"},{Title:"日记"},{Title:"笔记"},{Title:"公文"},{Title:"会议资料"},{Title:"出版合同"},{Title:"其他"}],ResourceFieldList:["信件信函","书稿","手稿","日记","笔记","公文","会议资料","出版合同","其他"]}},methods:{FilterButton:function(){this.$emit("FilterButton",this.ResourceFieldList)}}},h=v;var p=(0,c.Z)(h,d,g,!1,null,"11f16b18",null);const C=p.exports;var T=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"Container"},[t._l(t.SearchResult,(function(s,a){return e("div",{key:a},[e("div",{staticClass:"ItemContainer"},[e("div",{staticClass:"ImageItem"},[e("div",{staticClass:"ImageHover"},[e("div",{staticClass:"RedButton SeeImage",on:{click:function(e){return t.GoToPage("PkuPeople4",s)}}},[t._v(" 查看大图 ")])]),e("div",{staticClass:"BackgroundImage ImageContainer",style:"background-image:url(".concat(s.Image,")")})]),e("div",{staticClass:"TextContainer"},[e("div",{staticClass:"TextTitle",on:{click:function(e){return t.GoToPage("PkuPeople4",s)}}},[t._v(" "+t._s(s.Title)+" ")]),e("div",{staticClass:"TextDescription"},[t._v(" "+t._s(s.Description)+" ")])])])])})),e("div",{staticClass:"ShiftContainer"},[e("img",{staticClass:"ShiftLeft",attrs:{src:"ShiftLeft.svg",alt:""},on:{click:function(e){return t.PageShift(-1)}}}),e("div",{staticClass:"ShiftPages"},[t._v(" "+t._s(t.NowIndex)+"   /   "+t._s(t.TotalPages)+" ")]),e("img",{staticClass:"ShiftRight",attrs:{src:"ShiftRight.svg",alt:""},on:{click:function(e){return t.PageShift(1)}}})])],2)])},A=[],S=(s(9653),s(74916),s(23123),s(95114));const f={name:"Result",props:{Arguments:{type:Object},NowIndex:Number,TotalPages:Number,SearchResult:Array},data:function(){return{}},methods:{PageShift:function(t){this.NowIndex+t>0&&this.NowIndex+t<=this.TotalPages?this.$emit("ChangePages",t):this.$message({type:"warning",message:"已经是第一页或最后一页"})},GoToPage:function(t,e){var s=this,a=e.Path.split("/"),n={TabIndex:0,ContentStatus:0,Path1:a[0]+"/"+a[1]+"/"+a[2],Path2:a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3],Path3:a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+a[4],PeopleName:"",TabName:"",LetterName:"",LetterTemplateID:e.TemplateID};(0,S.B0)(s,n.Path1,(function(e){n.PeopleName=e,(0,S.B0)(s,n.Path2,(function(e){n.TabName=e,(0,S.CK)(s,(function(e){var a={location_id:99999999,page_index:1,page_size:99999,sort_by:"-show_time",path:n.Path1,deep_range:1,filter_rule:{},order_rule:{method:"show_time",order:"+"},template_id_list:[]};(0,S.Md)("/data/list",a,s,(function(a){for(var i=a.data.list,r=0;r<i.length;r++){var o=i[r];for(var l in o.content)(0,S.VX)(e[l],"标题")&&o.content[l]===n.TabName&&(n.TabIndex=r/6,n.ContentStatus=r)}(0,S.B0)(s,n.Path3,(function(e){n.LetterName=e,console.log("&&&",n),s.$router.push({name:t,query:n})}))}))}))}))}))}}},_=f;var P=(0,c.Z)(_,T,A,!1,null,"0307950e",null);const I=P.exports,w={name:"PkuPeople2",components:{Search:m,Condition:C,Result:I},data:function(){return{Arguments:{Keywords:"",Title:"",Theme:"",TimeFrom:"",TimeTo:"",Location:"",Language:"",People:"",Event:"",Source:""},SearchResult:[],NowIndex:1,TotalPages:1,ResourceFieldList:["信件信函","书稿","手稿","日记","笔记","公文","会议资料","出版合同","其他"]}},methods:{ChangeArguments:function(t){this.Arguments=t,this.GetList()},ChangePages:function(t){this.NowIndex+=t,this.GetList()},FilterButton:function(t){this.ResourceFieldList=t,console.log("***",this.Arguments,this.ResourceFieldList),this.GetList()},GetList:function(){var t=this;t.SearchResult=[];var e={},s=[];(0,S.OE)(t,t.Arguments,(function(a){e=a,(0,S.xU)(t.ResourceFieldList,(function(a){s=a,console.log("###",t.Arguments,t.ResourceFieldList,e,s),(0,S.CK)(t,(function(a){var n={location_id:99999999,page_index:t.NowIndex,page_size:6,sort_by:"-show_time",path:"root/archives",deep_range:3,filter_rule:e,order_rule:{method:"show_time",order:"+"},template_id_list:s};(0,S.Md)("/data/list",n,t,(function(e){var s=e.data.list;t.TotalPages=e.data.total_page;for(var n=0;n<s.length;n++){var i=s[n],r={Path:i.path,Title:"",Image:"",Description:"",TemplateID:i.template_id};for(var o in i.content)(0,S.VX)(a[o],"标题")?r.Title=i.content[o]:(0,S.VX)(a[o],"图片")?r.Image=i.content[o]:((0,S.VX)(a[o],"描述")||(0,S.VX)(a[o],"简介"))&&(r.Description=i.content[o]);t.SearchResult.push(r)}}))}))}))}))}},mounted:function(){this.Arguments.Keywords=this.$route.query.Keywords,this.GetList()}},y=w;var x=(0,c.Z)(y,a,n,!1,null,"4b5d8b3b",null);const L=x.exports}}]);
//# sourceMappingURL=630.690eb609.js.map